
## 高可用复杂度模型
### 计算高可用
将任务分配给多个服务器执行；

任务分配：高性能任务分配考虑的是「正常处理」，高可用任务分配考虑的是「异常处理」
任务分解：要监控服务器的状态，在故障时进行切换；

### 存储高可用
数据复制：复制命令、复制数据、复制文件；
状态决策：独裁式、协商式

#### 数据复制
- 同步复制：最强一致性，故障容忍度低，写入性能低；适应主备、主从架构；
- 异步复制：写入性能高，故障容忍度高，容易出现数据不一致；适应分布式一致性，分布式协同；
- 半同步复制：先同步复制一台服务器，再异步同步其他服务器；适应于数据存储集群；
- 多数复制：数据强一致性，最强可用性，故障容忍度高；写入性能不高，实现复杂；适应于分布式一致性，分布式协同；
##### 复制命令
实现简单，数据量小，数据可能不一致；
适应「增量复制」
##### 复制数据
实现简单，数据一致，复制流量大；
适应增量复制；
##### 复制文件
实现复杂，数据一致，复制流量大；
适应全量复制

##### 独裁式
决策逻辑简单，保证分配主机可用；
##### 协商式
一般是心跳机制；「双通道：TCP、串口线」
##### 民主式、选举式
保证有偏向的决策数量，单数；

#### 冗余法则
高可用必然是「集群方案」
